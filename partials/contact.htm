[viewBag]
snippetCode = "contact"
snippetName = "contact"
snippetProperties[headertext][title] = "Header Text"
snippetProperties[headertext][type] = "string"
snippetProperties[headertext][default] = "Kontakt"
snippetProperties[headertext][options][] = ""
==
<?php
function onProcess() {
    echo 'submit';
}

function onMailSent() {
    console.log('onMailSent');
    $formVars = [
        'receivermail' => post('receivermail'),
        'receivername' => post('receivername'),
        'succeesstext' => post('succeesstext'),
        'receiverregard' => post('receiverregard'),
        'mailtemplate' => post('mailtemplate'),
        'name' => post('name'),
        'email' => post('email'),
        'regard' => post('regard'),
        'sendermessage' => post('message'),
    ];
    
    $formVars['receiverregard'] = str_replace("{{name}}", $formVars['name'], $formVars['receiverregard']);
    $formVars['receiverregard'] = str_replace("{{regard}}", $formVars['regard'], $formVars['receiverregard']);
    
    $buildOwnerMessage = function ($message) use ($formVars) {
        // TODO use email and name from backend or theme settings
        $message->to($formVars['receivermail'], $formVars['receivername']);
        $message->subject($formVars['receiverregard']);
    };

    // mail to site owner
    Mail::send($formVars['mailtemplate'], $formVars, $buildOwnerMessage);
      
    $this['result'] = $formVars['succeesstext'];
}
?>
==
<div class="" id="kontakt-wrapper" data-target="#contact">
    <header class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-xs-8 offset-xs-2 pl-0 py-5">
                    <h2 class="text-left">Kontakt</h2>
                    
                    {#{% set icon = 'assets/images/icons/' ~ this.theme.color ~ '/contact.svg' %}#}
                    {#<img class="mx-auto pb-2" src="{{ icon | theme }}">#}
                    <div class="mb-3">
                        {% content 'contact.htm' %}
                    </div>
                    {% partial 'contactForm/default' %}
     
            </div>
        </div>
    </header>
</div>